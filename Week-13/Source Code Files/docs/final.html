<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>the r studio world - The Story of McDonalds</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">the r studio world</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">about me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./final.html" rel="" target="" aria-current="page">
 <span class="menu-text">final project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./nm2207.html" rel="" target="">
 <span class="menu-text">nm2207 materials</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/kyrawuxingyi/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kyraxwu" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#where-to-eat-mcdonalds-all-around-the-world-as-of-2022" id="toc-where-to-eat-mcdonalds-all-around-the-world-as-of-2022" class="nav-link active" data-scroll-target="#where-to-eat-mcdonalds-all-around-the-world-as-of-2022">🌍 Where to eat McDonald’s: All Around the World (As of 2022)</a>
  <ul class="collapse">
  <li><a href="#mcdonalds-density-hot-spots" id="toc-mcdonalds-density-hot-spots" class="nav-link" data-scroll-target="#mcdonalds-density-hot-spots">🔥 McDonald’s Density Hot Spots</a></li>
  <li><a href="#the-golden-arches-and-gdp" id="toc-the-golden-arches-and-gdp" class="nav-link" data-scroll-target="#the-golden-arches-and-gdp">💰 The Golden Arches and GDP</a></li>
  <li><a href="#exploring-disparities" id="toc-exploring-disparities" class="nav-link" data-scroll-target="#exploring-disparities">🌍 Exploring Disparities</a></li>
  <li><a href="#africa-a-unique-landscape" id="toc-africa-a-unique-landscape" class="nav-link" data-scroll-target="#africa-a-unique-landscape">🐘 Africa: A Unique Landscape</a></li>
  <li><a href="#where-should-i-go-to-find-mcdonalds" id="toc-where-should-i-go-to-find-mcdonalds" class="nav-link" data-scroll-target="#where-should-i-go-to-find-mcdonalds">🌍 Where Should I go to Find McDonalds?</a></li>
  </ul></li>
  <li><a href="#when-to-eat-mcdonalds-the-big-mac-price" id="toc-when-to-eat-mcdonalds-the-big-mac-price" class="nav-link" data-scroll-target="#when-to-eat-mcdonalds-the-big-mac-price">📈 When to eat McDonald’s: The Big Mac Price</a>
  <ul class="collapse">
  <li><a href="#when-should-i-order" id="toc-when-should-i-order" class="nav-link" data-scroll-target="#when-should-i-order">🍔 When Should I Order?</a></li>
  </ul></li>
  <li><a href="#what-you-should-eat-at-mcdonalds-nutritional-information" id="toc-what-you-should-eat-at-mcdonalds-nutritional-information" class="nav-link" data-scroll-target="#what-you-should-eat-at-mcdonalds-nutritional-information">📊 What you should eat at McDonald’s : Nutritional Information</a>
  <ul class="collapse">
  <li><a href="#a-correlation-plot" id="toc-a-correlation-plot" class="nav-link" data-scroll-target="#a-correlation-plot">A Correlation Plot</a></li>
  <li><a href="#a-closer-look-at-the-nutritional-values" id="toc-a-closer-look-at-the-nutritional-values" class="nav-link" data-scroll-target="#a-closer-look-at-the-nutritional-values">🍔 A Closer Look at the Nutritional Values</a></li>
  <li><a href="#so-what-should-i-order" id="toc-so-what-should-i-order" class="nav-link" data-scroll-target="#so-what-should-i-order">🍟 <strong>So, What Should I Order?</strong></a></li>
  </ul></li>
  <li><a href="#summing-it-up-navigating-the-world-of-mcdonalds" id="toc-summing-it-up-navigating-the-world-of-mcdonalds" class="nav-link" data-scroll-target="#summing-it-up-navigating-the-world-of-mcdonalds">🍔 <strong>Summing It Up: Navigating the World of McDonald’s</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Story of McDonalds</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<div class="cell-output-display">
<p><img src="mcdonalds.jpeg" class="img-fluid" width="2736"></p>
</div>
</div>
<p>🍔 Greetings, fellow data explorer! Join us on an exhilarating expedition into the captivating universe of McDonald’s. Get ready for an insightful journey as we delve deep into the world of the Golden Arches!</p>
<p>Here, we present a global map showcasing all McDonald’s locations as of 2022:</p>
<section id="where-to-eat-mcdonalds-all-around-the-world-as-of-2022" class="level2">
<h2 class="anchored" data-anchor-id="where-to-eat-mcdonalds-all-around-the-world-as-of-2022">🌍 Where to eat McDonald’s: All Around the World (As of 2022)</h2>
<iframe height="575" width="100%" frameborder="no" src=" https://kyrawu.shinyapps.io/McDWorldMap/">
</iframe>
<section id="mcdonalds-density-hot-spots" class="level3">
<h3 class="anchored" data-anchor-id="mcdonalds-density-hot-spots">🔥 McDonald’s Density Hot Spots</h3>
<p>With the ‘McDonald’s Outlets per Million Residents’ toggle activated, a clear trend emerges – the density of McDonald’s locations is notably high in the US, Canada, Europe, and Australia. This concentration indicates a strong presence in these regions relative to their populations. However, the story takes an interesting turn when we examine countries with the least dense McDonald’s to Population ratio, such as Peru, Egypt, and India.</p>
</section>
<section id="the-golden-arches-and-gdp" class="level3">
<h3 class="anchored" data-anchor-id="the-golden-arches-and-gdp">💰 The Golden Arches and GDP</h3>
<p>When toggling on ‘GDP per Capita’, you may notice that there is <strong><em>barely any changes in colour</em></strong>, save a few countries like China and some regions in Europe etc. The graph shows that there is a <u><strong>positive correlation between GDP per capita and the number of McDonald’s outlets in a country</strong></u>. This is consistent with the findings from the first graph, which showed that wealthier countries tend to have more McDonald’s outlets per million residents.</p>
<p>This correlation can be explained by a number of factors, including:</p>
<ul>
<li><p><strong>Wealthier countries tend to have more urbanization and higher levels of disposable income.</strong> This creates a larger market for fast food restaurants like McDonald’s.</p></li>
<li><p><strong>Wealthier countries also tend to have more foreign direct investment.</strong> McDonald’s is one of the world’s largest foreign direct investors, and it has a long history of expanding into new markets.</p></li>
<li><p><strong>Some people argue that McDonald’s is a symbol of Western culture and globalization.</strong> Wealthier countries are more likely to be exposed to Western culture and globalization, and this may lead to a greater demand for McDonald’s restaurants.</p></li>
</ul>
</section>
<section id="exploring-disparities" class="level3">
<h3 class="anchored" data-anchor-id="exploring-disparities">🌍 Exploring Disparities</h3>
<p>The countries with lower McDonald’s density often share common characteristics. Many are classified as developing nations, where disposable income is limited, and supply chains pose considerable challenges. Additionally, some countries attribute their low McDonald’s density to political reasons, a small local population, or simply a lack of affinity for American fast-food burgers.</p>
</section>
<section id="africa-a-unique-landscape" class="level3">
<h3 class="anchored" data-anchor-id="africa-a-unique-landscape"><a href="https://emojipedia.org/elephant">🐘</a> Africa: A Unique Landscape</h3>
<p>Zooming in on Africa, a continent seemingly devoid of McDonald’s presence, we uncover a myriad of factors influencing this phenomenon.</p>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Factors</strong></th>
<th><strong>Implications</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>📉 Economic Challenges</td>
<td>Africa’s diverse economic landscape poses challenges like poverty, political instability, and underdeveloped infrastructure. These hurdles can hinder McDonald’s efforts to establish profitable operations in certain regions.</td>
</tr>
<tr class="even">
<td>🍲 Cultural Diversity</td>
<td>Africa’s rich culinary heritage presents a complex challenge. While McDonald’s adapts menus to local tastes, achieving a balance between global consistency and diverse local preferences becomes intricate in a continent with such culinary variety.</td>
</tr>
<tr class="odd">
<td>🚚 Supply Chain Struggles</td>
<td>McDonald’s stringent quality standards rely on efficient supply chains. Inadequate infrastructure, including transportation and logistics, in Africa can impede the reliable supply of ingredients, affecting the company’s quality standards.</td>
</tr>
<tr class="even">
<td>🍔 Fierce Competition</td>
<td>The fast-food industry in Africa is fiercely competitive, with local and international chains vying for market share. Entering this market demands careful research and an effective competitive strategy.</td>
</tr>
<tr class="odd">
<td>📋 Regulatory Complexities</td>
<td>Different African countries have varying regulations for foreign businesses. Navigating these diverse regulatory frameworks can be time-consuming and financially burdensome for McDonald’s.</td>
</tr>
</tbody>
</table>
</section>
<section id="where-should-i-go-to-find-mcdonalds" class="level3">
<h3 class="anchored" data-anchor-id="where-should-i-go-to-find-mcdonalds">🌍 Where Should I go to Find McDonalds?</h3>
<p>If you're wondering where to find a McDonald's, the answer is almost anywhere! With over 38,000 locations worldwide, McDonald's has a presence in more than 100 countries across the globe. Whether you're in a bustling city, a quiet suburb, or even on a road trip in the countryside, chances are there's a McDonald's nearby. Especially so in Europe, America and Asia, satisfying your craving for a Big Mac or a McFlurry is just a short trip away. Happy dining! 🍔</p>
</section>
</section>
<section id="when-to-eat-mcdonalds-the-big-mac-price" class="level2">
<h2 class="anchored" data-anchor-id="when-to-eat-mcdonalds-the-big-mac-price">📈 When to eat McDonald’s: The Big Mac Price</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="bigmac.jpeg" class="img-fluid" width="1024"></p>
</div>
</div>
<p>The Big Mac Index, invented by The Economist in 1986, is a lighthearted guide to whether currencies are at their “correct” level. It’s based on the theory of purchasing-power parity (PPP), the notion that in the long run exchange rates should move towards the rate that would equalize the prices of an identical basket of goods and services (in this case, a burger) in any two countries.</p>
<iframe height="650" width="100%" frameborder="no" src="https://kyrawu.shinyapps.io/BigMacPrice/">
</iframe>
<p>This interactive chart highlights key moments in history, with notable increases coinciding with McDonald’s <strong>“I’m Lovin’ It”</strong> campaign in 2003 and a downturn following the release of the <strong>“Super Size Me”</strong> documentary in 2004. The <strong>Global Financial Crisis of 2007-2009</strong> also significantly impacted the Big Mac Index. Surprisingly, the <strong>COVID-19 lockdowns in 2020</strong> had a relatively modest effect, possibly due to widespread delivery options and the relative affordability of McDonald’s compared to other food choices.</p>
<section id="when-should-i-order" class="level3">
<h3 class="anchored" data-anchor-id="when-should-i-order">🍔 When Should I Order?</h3>
<p>So, when’s the best time to indulge in a Big Mac? Well, if you’re an economist, you might say during a financial upswing. But if you’re a foodie, the answer is always “right now”. And the worst time? Probably when you’re on a diet. But hey, who are we to judge? Enjoy your meal! 🍔</p>
</section>
</section>
<section id="what-you-should-eat-at-mcdonalds-nutritional-information" class="level2">
<h2 class="anchored" data-anchor-id="what-you-should-eat-at-mcdonalds-nutritional-information">📊 What you should eat at McDonald’s : Nutritional Information</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="mcwrap.jpeg" class="img-fluid" width="1000"></p>
</div>
</div>
<section id="a-correlation-plot" class="level3">
<h3 class="anchored" data-anchor-id="a-correlation-plot">A Correlation Plot</h3>
<p>The correlation plot in provides a visual representation of the relationship between different nutritional components in McDonald’s food.</p>
<iframe height="500" width="100%" frameborder="no" src="https://kyrawu.shinyapps.io/McDCorrelation/">
</iframe>
<p>The chart uses colour-coding to display correlations, with red indicating strong negative correlations and yellow representing strong positive correlations. You can hover over squares to view exact correlation coefficients and customize the chart by selecting specific variables of interest.</p>
<p>For example, a strong positive correlation between calories and fat suggests that higher-calorie items tend to be richer in fat. This information empowers you to make informed dietary choices at McDonald’s based on your preferences and needs. Notably, the darkest red squares on the plot represent sugar and salt, aligning with the expectation that salty items are typically not sweet, and vice versa.</p>
</section>
<section id="a-closer-look-at-the-nutritional-values" class="level3">
<h3 class="anchored" data-anchor-id="a-closer-look-at-the-nutritional-values">🍔 A Closer Look at the Nutritional Values</h3>
<p>This chart allows you to explore the nutritional content of various items on the McDonald’s menu. You can select different variables for the X and Y axes, and even color the data points based on a third variable. Additionally, you can filter the data by tags to focus on specific categories of menu items.</p>
<iframe height="575" width="100%" frameborder="no" src="https://kyrawu.shinyapps.io/McDNutrition/">
</iframe>
<p>The chart provides a wealth of information about the nutritional content of McDonald’s food. For instance, you can compare the calorie content of different items, or examine the relationship between fat content and sodium levels. The chart also allows you to explore how these nutritional variables vary across different categories of food, such as burgers, salads, or breakfast items.</p>
</section>
<section id="so-what-should-i-order" class="level3">
<h3 class="anchored" data-anchor-id="so-what-should-i-order">🍟 <strong>So, What Should I Order?</strong></h3>
<p>As for what to order, it depends on your dietary preferences and nutritional needs! If you’re watching your calorie intake, you might want to opt for items with lower calorie counts. On the other hand, if you’re looking for a protein-packed meal, you can use the chart to identify items with high protein content. Remember, balance is key when it comes to nutrition, so don’t forget to enjoy a variety of foods from the menu!</p>
</section>
</section>
<section id="summing-it-up-navigating-the-world-of-mcdonalds" class="level2">
<h2 class="anchored" data-anchor-id="summing-it-up-navigating-the-world-of-mcdonalds">🍔 <strong>Summing It Up: Navigating the World of McDonald’s</strong></h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="international.jpeg" class="img-fluid" width="600"></p>
</div>
</div>
<p>In this captivating journey through the McDonald’s universe, we’ve explored the global map of McDonald’s locations as of 2022, revealing density hot spots and their correlation with GDP per-capita. We’ve uncovered the disparities in McDonald’s presence in different countries, with a focus on Africa’s unique challenges. Whether you’re seeking a McDonald’s around the world or analyzing the Big Mac Price Index, we’ve provided valuable insights. And for those concerned about nutrition, we’ve delved into the correlation plot and nutritional values to empower informed food choices. So, whether you’re an economist, a foodie, or a health-conscious consumer, McDonald’s offers a diverse menu and a world of exploration. Enjoy your meal! 🍔</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>